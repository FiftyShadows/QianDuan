##知识点

- 页面加载过程

- 性能优化

- 安全性



##题目

- 从输入url到得到html的详细过程

- window.onload和DOMContentLoaded的区别

    - window.onload页面资源全部加载完才会执行，包括图片、视频等

    - DOMContentLoaded在DOM渲染完即可执行，此时图片、视频还可能没有加载完



##知识点

- 加载资源的形式

    - 输入url（或跳转页面）加载html
    
    - 加载html中的静态资源(css，js，图片，视频，字体文件)


- 加载一个资源的过程

    - 浏览器根据DNS服务器得到域名的IP地址
    
    - 向这个IP的机器发送http请求
    
    - 浏览器收到、处理并返回http请求
    
    - 浏览器得到返回内容


- 浏览器渲染页面的过程

    - 根据html结构生成DOM Tree
    
    - 根据CSS生成CSSOM
    
    - 将DOM和CSSOM整合形成RenderTree
    
    - 根据RenderTree开始渲染和展示
    
    - 遇到`<script>`时，会执行并阻塞渲染






###思考

- 为何要把js放到body最下面

    - 不会阻塞，性能更好
    
    - 方便获取DOM的标签





##性能优化


###原则

- 多使用内存、缓存或者其他方法

- 减少使用cpu计算，减少网络请求


###从哪里入手

- 加载页面和静态资源

- 页面渲染



###加载资源优化

- 静态资源的压缩合并

- 静态资源缓存

- 使用CDN让资源加载更快

- 使用SSR后端渲染，数据直接输出到HTML中



###渲染优化

- CSS放前面，JS放后面

- 懒加载（图片懒加载、下拉加载更多）

- 减少DOM查询，对DOM查询做缓存

- 减少DOM操作，多个操作尽量合并在一起执行

- 事件节流

- 尽早执行操作（如DOMContentLoaded）




##示例


###资源合并

![](/assets/360截图20171004172848579.jpg)



###缓存

![](/assets/360截图20171004173132828.jpg)




###CDN

![](/assets/360截图20171004173437462.jpg)


###使用SSR后端渲染

![](/assets/360截图20171004173905804.jpg)



###懒加载

![](/assets/360截图20171004174015631.jpg)



###缓存DOM查询
    
![](/assets/360截图20171004174314854.jpg)



###合并DOM插入

![](/assets/360截图20171004174737546.jpg)




###事件节流

![](/assets/360截图20171004174935697.jpg)



###尽早执行操作

![](/assets/360截图20171004175810990.jpg)







##安全性

- 综合性的问题：场景的前端安全问题有哪些




###知识点

- XSS跨站请求攻击

- XSRF跨站请求伪造



###XSS

- 在新浪博客写一篇文章，同时偷偷插入一段`<script>`

- 攻击代码中，获取cookie，发送到自己的服务器

- 发布博客，有人查看博客内容

- 会把查看者的cookie发送到攻击者的服务器



###防XSS

- 前端替换关键字，例如替换`<为&lt;>为&gt;`

- 后端替换




###XSRF

![](/assets/360截图20171005142504409.jpg)

![](/assets/360截图20171005142630018.jpg)






##技巧



###简历

- 简洁明了，重点突出项目经历和解决方案

- 把个人博客放在简历中，并且定期维护更新博客

- 把个人的开源项目昂在简历中，并维护开源项目

- 简历千万不要造假，要保持能力和经历上的真实性




![](/assets/360截图20171005144524147.jpg)





























